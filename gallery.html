<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editorial Gallery | Edson Canales</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400&family=Playfair+Display:ital@1&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #faf9f7;
            --text: #111;
            --soft-gray: #e0ddd7;
            --transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            overflow: hidden; /* Evita el scroll nativo feo */
            height: 100vh;
        }

        /* NAVEGACIÓN */
        .back {
            position: fixed;
            top: 40px;
            left: 40px;
            font-size: 11px;
            letter-spacing: .15em;
            text-transform: uppercase;
            z-index: 100;
        }

        .back a { text-decoration: none; color: var(--text); transition: opacity 0.3s; }
        .back a:hover { opacity: .4; }

        /* WRAPPER PRINCIPAL */
        .wrapper {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        /* INFO TEXT */
        .info {
            text-align: center;
            margin-bottom: 5vh;
            pointer-events: none;
        }

        .info h2 {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: clamp(32px, 5vw, 48px);
            font-weight: 400;
            margin-bottom: 10px;
        }

        .info p {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: #888;
        }

        /* SLIDER - El corazón del movimiento soft */
        .slider-wrap {
            width: 100%;
            cursor: grab;
            overflow: hidden;
            padding: 20px 0;
        }

        .slider-wrap:active { cursor: grabbing; }

        .slider-inner {
            display: flex;
            gap: 100px; /* Espacio elegante entre fotos */
            padding: 0 40vw; /* Permite que la primera y última foto se centren */
            align-items: center;
        }

        .slide {
            flex: 0 0 auto;
            height: 55vh; /* Altura editorial */
            position: relative;
            transition: var(--transition);
            filter: grayscale(100%);
            opacity: 0.2;
            transform: scale(0.8);
        }

        .slide.active {
            filter: grayscale(0%);
            opacity: 1;
            transform: scale(1.05); /* Un pop suave hacia adelante */
        }

        .slide img {
            height: 100%;
            width: auto;
            object-fit: cover;
            box-shadow: 0 30px 60px rgba(0,0,0,0.1);
        }

        /* INDICADORES (DOTS) */
        .dots {
            margin-top: 5vh;
            display: flex;
            gap: 15px;
        }

        .dot {
            width: 30px;
            height: 1px;
            background: var(--soft-gray);
            transition: var(--transition);
        }

        .dot.active {
            background: var(--text);
            width: 60px;
        }

        @media(max-width: 768px) {
            .slider-inner { gap: 40px; }
            .slide { height: 45vh; }
            .back { top: 20px; left: 20px; }
        }
    </style>
</head>
<body>

    <div class="back"><a href="index.html">← Return</a></div>

    <main class="wrapper">
        <div class="info" id="info">
            <h2 id="title">Loading</h2>
            <p id="desc">Creative Portfolio</p>
        </div>

        <div class="slider-wrap" id="sliderWrap">
            <div class="slider-inner" id="sliderInner">
                <div class="slide" data-title="Birthday Shot" data-desc="Exploring identity & light">
                    <img src="images/foto1.jpg" alt="">
                </div>
                <div class="slide" data-title="Shadows" data-desc="Contrast session 2024">
                    <img src="images/foto2.jpg" alt="">
                </div>
                <div class="slide" data-title="Minimalist" data-desc="Form and movement">
                    <img src="images/foto3.jpg" alt="">
                </div>
                <div class="slide" data-title="The Cafe" data-desc="Urban atmosphere">
                    <img src="images/foto4.jpg" alt="">
                </div>
                <div class="slide" data-title="Portrait" data-desc="Close up series">
                    <img src="images/foto5.jpg" alt="">
                </div>
                <div class="slide" data-title="Editorial" data-desc="Vogue inspired">
                    <img src="images/foto6.jpg" alt="">
                </div>
            </div>
        </div>

        <div class="dots" id="dots"></div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>

    <script>
        gsap.registerPlugin(Draggable);

        const inner = document.getElementById('sliderInner');
        const slides = document.querySelectorAll('.slide');
        const dotsContainer = document.getElementById('dots');
        const title = document.getElementById('title');
        const desc = document.getElementById('desc');

        // Crear dots
        slides.forEach(() => {
            const dot = document.createElement('div');
            dot.className = 'dot';
            dotsContainer.appendChild(dot);
        });
        const dots = document.querySelectorAll('.dot');

        // Configuración del Draggable (Scroll horizontal soft)
        const drag = Draggable.create(inner, {
            type: "x",
            edgeResistance: 0.9,
            inertia: true, // Esto hace que se sienta "soft" al soltar
            bounds: {
                minX: -inner.scrollWidth + window.innerWidth * 0.6,
                maxX: 0
            },
            onUpdate: updateSlides,
            onThrowUpdate: updateSlides
        })[0];

        function updateSlides() {
            let closestSlide = 0;
            let minDistance = Infinity;

            slides.forEach((slide, i) => {
                const rect = slide.getBoundingClientRect();
                const center = window.innerWidth / 2;
                const distance = Math.abs((rect.left + rect.width / 2) - center);

                if (distance < minDistance) {
                    minDistance = distance;
                    closestSlide = i;
                }
            });

            slides.forEach((s, i) => {
                if (i === closestSlide) {
                    s.classList.add('active');
                    dots[i].classList.add('active');
                    title.innerText = s.dataset.title;
                    desc.innerText = s.dataset.desc;
                } else {
                    s.classList.remove('active');
                    dots[i].classList.remove('active');
                }
            });
        }

        // Click en imagen para centrarla
        slides.forEach((slide, i) => {
            slide.addEventListener('click', () => {
                const rect = slide.getBoundingClientRect();
                const currentX = gsap.getProperty(inner, "x");
                const offset = (window.innerWidth / 2) - (rect.left + rect.width / 2);
                
                gsap.to(inner, {
                    x: currentX + offset,
                    duration: 1.2,
                    ease: "power4.out",
                    onUpdate: updateSlides
                });
            });
        });

        // Inicializar
        window.addEventListener('load', () => {
            updateSlides();
        });
    </script>
</body>
</html>
